/**
 * Embed videos using AngularJS directives
 * @version v0.1.9 - 2014-02-28
 * @link 
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("videosharing-embed",[]),angular.module("videosharing-embed").service("PlayerConfig",function(){"use strict";this.createInstance=function(e){var t=function(e){this.playerRegExp=e.playerRegExp,this.whitelist=e.whitelist,this.config={playerID:e.playerID,options:e.options},this.isPlayerFromURL=function(e){return e.match(this.playerRegExp)!=null}};return new t(e)}}),angular.module("videosharing-embed").factory("RegisteredPlayers",["PlayerConfig",function(e){"use strict";var t={youtube:{options:{autoplay:0,controls:1,loop:0},whitelist:["autoplay","controls","loop","playlist","rel"],playerID:"www.youtube.com/embed/",protocol:"http://",playerRegExp:/(http:\/\/|https:\/\/)(?:www\.)?youtu(?:be\.com\/watch\?v=|\.be\/)(\w*)(&(amp;)?[\w\?=]*)?/},youtubeNoCookie:{options:{autoplay:0,controls:1,loop:0},whitelist:["autoplay","controls","loop","playlist","rel"],playerID:"www.youtube-nocookie.com/embed/",protocol:"http://",playerRegExp:/(http:\/\/|https:\/\/)(www\.youtube\-nocookie\.com)\/watch\?v=([A-Za-z0-9\-\_]+)/},vimeo:{options:{autoplay:0,loop:0},whitelist:["autoplay","color","loop"],playerID:"player.vimeo.com/video/",protocol:"http://",playerRegExp:/(http:\/\/)vimeo\.com\/([A-Za-z0-9]+)/},dailymotion:{options:{autoPlay:0,logo:0},whitelist:["autoPlay","logo","forceQuality"],playerID:"www.dailymotion.com/embed/video/",protocol:"http://",playerRegExp:/(http:\/\/)www\.dailymotion\.com\/video\/([A-Za-z0-9]+)/}},n=[];return angular.forEach(t,function(t){n.push(e.createInstance(t))}),n}]),angular.module("videosharing-embed").directive("embedVideo",["$filter","RegisteredPlayers","$sce",function(e,t,n){"use strict";return{restrict:"A",template:'<iframe width="{{width}}" height="{{height}}" data-ng-src="{{trustedVideoSrc}}" frameborder="0"></iframe>',scope:{height:"@height",width:"@width"},link:function(r,i,s){s.$observe("href",function(i){if(i===undefined)return;var o=null;angular.forEach(t,function(e){e.isPlayerFromURL(i)&&(o=e)});if(o===null)return;var u=i.match(o.playerRegExp)[2],a=o.config,f=i.match(o.playerRegExp)[1];angular.forEach(e("whitelist")(s,o.whitelist),function(e,t){a.options[t]=e});var l=f+a.playerID+u+e("videoOptions")(a.options);r.trustedVideoSrc=n.trustAsResourceUrl(l)})}}}]),angular.module("videosharing-embed").filter("videoOptions",function(){"use strict";return function(e){var t=[];return angular.forEach(e,function(e,n){t.push([n,e].join("="))}),"?"+t.join("&")}}),angular.module("videosharing-embed").filter("whitelist",function(){"use strict";return function(e,t){var n={};return angular.forEach(e,function(e,r){t.indexOf(r)!=-1&&(n[r]=e)}),n}});